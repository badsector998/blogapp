<%= form_with(model: @article, local: true) do |form| %>
  <div class="container mb-5">
    <h2 class="mb-4"><%= @article.new_record? ? 'Create New Article' : 'Edit Article' %></h2>

    <!-- Title Input -->
    <div class="form-group mb-3">
        <%= form.label :title, class: 'form-label' %>
        <%= form.text_field :title, class: 'form-control', placeholder: 'Enter article title', required: true %>
        <% @article.errors.full_messages_for(:title).each do |message| %>
            <div><%= message %></div>
        <% end %>
    </div>

    <!-- Content Input -->
    <div class="form-group mb-3">
        <%= form.label :body, class: 'form-label' %>
        <%= form.text_area :body, rows: 8, class: 'form-control', placeholder: 'Enter article content', required: true %>
        <% @article.errors.full_messages_for(:body).each do |message| %>
            <div><%= message %></div>
        <% end %>
    </div>

    <div class="form-group mb-3">
        <%= form.label :image, 'Image', class: "form-label" %>
        <%= form.file_field :image, class: "form-control", type: "file" %>
        <% @article.errors.full_messages_for(:image).each do |message| %>
            <div><%= message %></div>
        <% end %>
    </div>

    <div class="form-group mb-3">
        <%= form.label :status %><br>
        <%= form.select :status, Visible::VALID_STATUSES, selected: article.status || 'public' %>
    </div>

    <div class="form-group mb-3">
        <%= form.label :tags %>
        <%= form.text_field :tags, value: @article.tags.any? ? @article.tags.map(&:name).join(', ') : '', class: "form-control" %>
    </div>

    <!-- Featured Checkbox -->
    <div class="form-group form-check mb-3">
        <%= form.check_box :featured, class: 'form-check-input' %>
        <%= form.label :featured, 'Feature this article', class: 'form-check-label' %>
        <% @article.errors.full_messages_for(:featured).each do |message| %>
            <div><%= message %></div>
        <% end %>
    </div>

    <!-- Submit Button -->
    <div class="form-group mb-3">
        <%= form.submit class: 'btn btn-primary' %>
        <%= link_to 'Cancel', articles_path, class: 'btn btn-secondary ml-2' %>
    </div>
  </div>
<% end %>

<!--

<%= form_with model: @article do |form| %>
    <div>
        <%= form.label :title %>
        <%= form.text_field :title %>
        <% @article.errors.full_messages_for(:title).each do |message| %>
            <div><%= message %></div>
        <% end %>
    </div>
    <div>
        <%= form.label :body %>
        <%= form.text_field :body %>
        <% @article.errors.full_messages_for(:body).each do |message| %>
            <div><%= message %></div>
        <% end %>
    </div>
    <div>
        <%= form.label :image %>
        <%= form.file_field :image %>
        <% @article.errors.full_messages_for(:body).each do |message| %>
            <div><%= message %></div>
        <% end %>
    </div>
    <div>
        <%= form.label :featured %>
        <%= form.check_box :featured %>
        <% @article.errors.full_messages_for(:body).each do |message| %>
            <div><%= message %></div>
        <% end %>
    </div>
    <div>
        <%= form.label :status %><br>
        <%= form.select :status, Visible::VALID_STATUSES, selected: article.status || 'public' %>
    </div>
    <div>
        <%= form.submit %>
    </div>
<% end %>

-->